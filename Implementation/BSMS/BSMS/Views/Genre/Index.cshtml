@model IEnumerable<BSMS.bsms.localhost.GENRE>

@{
    ViewBag.Title = "Index";
    Layout = "~/Views/Shared/_TLayout.cshtml";
}

<div class="container">
    <div class="col-md-11 col-sm-12 col-xs-12">
        <p>
            @Html.ActionLink("Create New", "Create")
        </p>
        <table class="table">
            <tr>
                <th>
                    @Html.DisplayNameFor(model => model.NAME)
                </th>
                <th>
                    @Html.DisplayNameFor(model => model.DESCRIPTION)
                </th>
                <th>
                    @Html.DisplayNameFor(model => model.REFERENCE_KEY)
                </th>
                <th></th>
            </tr>

            @foreach (var item in Model)
            {
                <tr>
                    <td>
                        @Html.DisplayFor(modelItem => item.NAME)
                    </td>
                    <td>
                        @Html.DisplayFor(modelItem => item.DESCRIPTION)
                    </td>
                    <td>
                        @Html.DisplayFor(modelItem => item.REFERENCE_KEY)
                    </td>
                    <td>
                        <a href='\Genre\Edit\@item.GENREID'>
                            <span class="glyphicon glyphicon-edit"></span>
                        </a> |
                        <a href='\Genre\Details\@item.GENREID'>
                            <span class="glyphicon glyphicon-info-sign"></span>
                        </a> |
                        <a onclick="confirmMessage(@item.GENREID)"> 
                            <span class="glyphicon glyphicon-remove"></span> 
                        </a>
                    </td>
                </tr>
            }

        </table>
    </div>
</div>

<script>
    function confirmMessage(id) {

        swal({
            title: 'Are you sure?',
            text: "You won't be able to revert this!",
            type: 'warning',
            showCancelButton: true,
            confirmButtonColor: '#3085d6',
            cancelButtonColor: '#d33',
            confirmButtonText: 'Yes, delete it!'
        }).then(function () {
            swal({
                title: 'Request Processing',
                text: 'BSMS is processing your request',
                timer: 5000
            })
            window.location = '@Url.Action("Delete", "Genre")/' + id;
        }, function (dismiss) {
            // dismiss can be 'cancel', 'overlay',
            // 'close', and 'timer'
            if (dismiss === 'cancel') {
                swal(
                  'Cancelled',
                  'You have Cancel the Delete Event :)',
                  'error'
                )
            }
        })

    }
</script>