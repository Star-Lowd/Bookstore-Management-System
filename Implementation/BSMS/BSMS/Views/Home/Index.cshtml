@model IEnumerable<BSMS.bsms.localhost.BOOK>
@using BSMS.Models;
@{
    ViewBag.Title = "Home Page";
    ViewBag.Page = "Home";
}

<!-- Full Slider -->
<div class="container-fluid">
    <div class="row">
        <div class="home-slider">
            <div class="item">
                <a href="products.html"><img src="~/Content/images/demo/slide-1-full.jpg" alt="Slider"></a>
            </div>
            <div class="item">
                <a href="products.html"><img src="~/Content/images/demo/slide-2-full.jpg" alt="Slider"></a>
            </div>
            <div class="item">
                <a href="products.html"><img src="~/Content/images/demo/slide-3-full.jpg" alt="Slider"></a>
            </div>
        </div>
    </div>
</div>
<!-- End Full Slider -->
<div class="container">
    <div class="row"><br><br>
        <div class="title"><span>Featured Books</span></div><br>
        @foreach (BSMS.bsms.localhost.BOOK item in (BSMS.Models.BookModel.GetBooks().Count() <= 8 ? BSMS.Models.BookModel.GetBooks() : BSMS.Models.BookModel.GetBooks().GetRange(0, 8)))
        {
            IEnumerable<BSMS.bsms.localhost.BOOK_IMAGE> bookImage = BSMS.Models.BookModel.GetBooksImages().Where(bi => bi.BOOKID == item.BOOKID);
            <div class="col-sm-4 col-lg-3 box-product-outer">
                <div class="box-product">
                    <div class="img-wrapper">
                        <a href="@Url.Action("BookDetail","Book", new { id = item.BOOKID})">
                            <div class="img-innerWrapper" style="background-image:url('@bookImage.ElementAt(0).IMAGEPATH'); background-size:100%; height:350px"> </div>
                        </a>
                        <div class="tags">
                            <span class="label-tags"><span class="label label-default arrowed">New</span></span>
                        </div>
                        <div class="tags tags-left">
                            <span class="label-tags"><span class="label label-danger arrowed-right">Sale</span></span>
                        </div>
                        <div class="option">
                            <a href="#" data-toggle="tooltip" title="Add to Cart"><i class="fa fa-shopping-cart"></i></a>
                            <a href="#" data-toggle="tooltip" title="Add to Compare"><i class="fa fa-align-left"></i></a>
                            <a href="#" data-toggle="tooltip" title="Add to Wishlist" class="wishlist"><i class="fa fa-heart"></i></a>
                        </div>
                    </div>
                    <h6><a href="detail.html"> @item.NAME </a></h6>
                    <div class="price">
                        <div>$@(item.PRICE - ((item.PRICE * item.PERCENTAGE_OFF) / 100)) <span class="label-tags"><span class="label label-default">-@item.PERCENTAGE_OFF%</span></span></div>
                        <span class="price-old">$@item.PRICE</span>
                    </div>
                    <div class="rating">
                        <i class="fa fa-star"></i>
                        <i class="fa fa-star"></i>
                        <i class="fa fa-star"></i>
                        <i class="fa fa-star"></i>
                        <i class="fa fa-star-half-o"></i>
                        <a href="#">(5 reviews)</a>
                    </div>
                </div>
            </div>
        }
    </div>
        <br><br>
    <div class="row">
        <div class="title"><span>Featured Authors</span></div><br>

        <!--Top 3 Author-->
       @foreach (BSMS.bsms.localhost.AUTHOR item in (BSMS.Models.AuthorModel.GetAuthors().Count() <= 3 ? BSMS.Models.AuthorModel.GetAuthors() : BSMS.Models.AuthorModel.GetAuthors().GetRange(0, 3)))
       {
            <div class="col-sm-4 col-lg-4 box-product-outer">
                <div class="box-product">
                    <div class="img-wrapper">
                        <a href="@Url.Action("AuthorDetail", "Author", new { id = item.AUTHORID })">

                            <div style="height:300px; background-image:url(@item.THUMBNAIL_PATH); background-size:100%"></div>
                        </a>
                        <div class="tags">
                            <span class="label-tags"><span class="label label-default arrowed">New</span></span>
                        </div>
                        <div class="tags tags-left">
                            <span class="label-tags"><span class="label label-danger arrowed-right">Sale</span></span>
                        </div>
                        <div class="option">
                            <a href="#" data-toggle="tooltip" title="Add to Cart"><i class="fa fa-shopping-cart"></i></a>

                            <a href="@Url.Action("AuthorDetail", "Author", new { id = item.AUTHORID })" data-toggle="tooltip" title="Books By This Author" class=""><i class="fa fa-book"></i></a>

                        </div>
                    </div>
                    <h6><a href="detail.html"> @item.FIRSTNAME @item.LASTNAME </a></h6>
                    <div class="price">
                        <div> Number of Books <span>@BookModel.CountBookByAuthor(item.AUTHORID)</span> </div>

                    </div>
                    <div class="rating">

                        <p> @AuthorModel.ReducedText(150, item.BIOGRAPHY) </p>
                    </div>
                </div>

            </div>

        }
    </div>
</div>