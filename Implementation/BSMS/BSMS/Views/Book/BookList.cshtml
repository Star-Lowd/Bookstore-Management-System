@model PagedList.IPagedList<BSMS.bsms.localhost.BOOK>
@using BSMS.Session;
@using BSMS.Models;
@using PagedList.Mvc;
@{
    SessionHandler loginSession = new SessionHandler();
    ViewBag.Title = "BookList";
    ViewBag.Page = "Book";
}

 <!-- Breadcrumbs -->
<div class="breadcrumb-container">
    <div class="container">
        <ol class="breadcrumb">
            <li><a href="@Url.Action("index","home")">Home</a></li>
            <li class="active">Books</li>

        </ol>
    </div>
</div>
<!-- End Breadcrumbs -->


<div class="container">

    <div class="row">
        <div class="col-md-2">
            <br><br>
            <div>
                <div class="title"><span>Featured Book</span></div><br>
                <img width="100%" height="100%" src="~/Content/images/rightSidebar.jpg" />
            </div>
        </div>

        <div class="col-md-8">


            <br><br>
            <div class="title"><span>New Books</span></div><br>
            @foreach (var item in Model)
            {
                IEnumerable<BSMS.bsms.localhost.BOOK_IMAGE> bookImage = BSMS.Models.BookModel.GetBooksImages().Where(bi => bi.BOOKID == item.BOOKID);
                <div class="col-sm-4 col-lg-4 box-product-outer">
                    <div class="box-product">
                        <div class="img-wrapper">
                            <a href="@Url.Action("BookDetail", "Book", new { id = item.BOOKID })">
                                <div class="img-innerWrapper" style="background-image:url('@bookImage.ElementAt(0).IMAGEPATH'); background-size:100%; height:300px"> </div>
                            </a>
                            <div class="tags">
                                <span class="label-tags"><span class="label label-default arrowed">New</span></span>
                            </div>
                            <div class="tags tags-left">
                                <span class="label-tags"><span class="label label-danger arrowed-right">Sale</span></span>
                            </div>
                            <div class="option">
                                <a href="#" data-toggle="tooltip" title="Add to Cart"><i class="fa fa-shopping-cart"></i></a>
                                <a href="#" data-toggle="tooltip" title="Add to Compare"><i class="fa fa-align-left"></i></a>
                               
                                    @if (loginSession.AuthenticatedUser() == null)
                                    {
                                        <a onclick="loginRequired()" data-toggle="tooltip" title="Add to Wishlist" class="wishlist"><i class="fa fa-heart"></i></a>
                                    }
                                    else if (loginSession.ISCustomer())
                                    {
                                        if (!WishListModel.Exist(loginSession.AuthenticatedUser().USERID, item.BOOKID))
                                        {
                                         <a onclick="addToWishList(@item.BOOKID)" data-toggle="tooltip" title="Add to Wishlist" class="wishlist"><i class="fa fa-heart"></i></a>
                                        }
                                    }

                            </div>
                        </div>
                        <h6><a href="detail.html"> @item.NAME </a></h6>
                        <div class="price">
                            <div>$@(item.PRICE - ((item.PRICE * item.PERCENTAGE_OFF) / 100) ) <span class="label-tags"><span class="label label-default">-@item.PERCENTAGE_OFF%</span></span></div>
                            <span class="price-old">$@item.PRICE</span>
                        </div>
                        <div class="rating">
                            <i class="fa fa-star"></i>
                            <i class="fa fa-star"></i>
                            <i class="fa fa-star"></i>
                            <i class="fa fa-star"></i>
                            <i class="fa fa-star-half-o"></i>
                            <a href="#">(5 reviews)</a>
                        </div>
                    </div>
                </div>
            }

            <div class="col-xs-12 text-center">
                @Html.PagedListPager(Model, page => Url.Action("BookList", new { page, pageSize = Model.PageSize }))
            </div>

        </div>

        <div class="col-md-2">
            <br><br>
            <div>
                <div class="title"><span>Best Seller</span></div><br>
                <img width="100%" height="100%" src="~/Content/images/leftSideBar.jpg" />
            </div>
        </div>
    </div>

    </div>